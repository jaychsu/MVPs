<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="./da-selector/index.html">

<dom-module id="demo-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <button on-click="togglePanelExpanded">toggle panel expanded</button>

    <p>Your choice is: [[selectedOptionData.display]]</p>

    <da-selector
      id="demo-selector"
      option-data-list="{{optionDataList}}"
      placeholder="This is yield name"

      is-panel-expanded="{{isPanelExpanded}}"
      is-option-list-hidden="{{isOptionListHidden}}"
      selected-option-data="{{selectedOptionData}}"
    />
  </template>

  <script>
    class DemoApp extends Polymer.Element {
      static get is() { return 'demo-app' }
      static get properties() {
        return {
          optionDataList: Array,
          isPanelExpanded: {
            type: Boolean,
            value: false,
          },
          isOptionListHidden: {
            type: Boolean,
            value: true,
          },

          selectedOptionData: Object,
        }
      }

      constructor() {
        super()

        this.optionDataList = this.getRandomData(20)
      }

      togglePanelExpanded() {
        this.isPanelExpanded = !this.isPanelExpanded
        this.isOptionListHidden = !this.isOptionListHidden
      }

      getRandomData(length) {
        let result = []
          , i

        result.push({
          id: 'id-0',
          display: 'Please select an option',
        })

        for (i = 1; i < length; i++) {
          result.push({
            id: `id-${i}`,
            display: `${i} - ${Math.random().toString(16).slice(2)}`,
          })
        }

        return result
      }
    }

    window.customElements.define(DemoApp.is, DemoApp);
  </script>
</dom-module>
