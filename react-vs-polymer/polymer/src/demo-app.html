<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="./da-selector/index.html">

<dom-module id="demo-app">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <button on-click="changeOptionListData">Change option list data source</button>
    <button on-click="togglePanelExpanded">toggle panel expanded</button>
    <da-selector
      id="demo-selector"
      option-data-list="{{optionDataList}}"
      placeholder="I am placeholder"
      is-panel-expanded="{{isPanelExpanded}}"
      is-option-list-hidden="{{isOptionListHidden}}"
    />
  </template>

  <script>
    class DemoApp extends Polymer.Element {
      static get is() { return 'demo-app' }
      static get properties() {
        return {
          optionDataList: Array,
          isPanelExpanded: {
            type: Boolean,
            value: false,
          },
          isOptionListHidden: {
            type: Boolean,
            value: true,
          },
        }
      }

      constructor() {
        super()

        this.changeOptionListData()
      }

      changeOptionListData() {
        this.optionDataList = this.getRandomData(20)
      }

      togglePanelExpanded() {
        this.isPanelExpanded = !this.isPanelExpanded
        this.isOptionListHidden = !this.isOptionListHidden
      }

      getRandomData(length) {
        let result = []
          , i

        for (i = 0; i < length; i++) {
          result.push({
            id: `id-${i}`,
            display: `${i} - ${Math.random().toString(16).slice(2)}`,
          })
        }

        return result
      }
    }

    window.customElements.define(DemoApp.is, DemoApp);
  </script>
</dom-module>
